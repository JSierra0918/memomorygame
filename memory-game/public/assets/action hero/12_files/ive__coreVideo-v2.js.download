!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=1041)}({1041:function(e,t,i){i(252),i(253),i(254),e.exports=i(255)},252:function(e,t,i){},253:function(e,t,i){},254:function(e,t){var i,o,n,r,a,l,c,d;RView.IVE=(i=RView.IVE,n=window.setTimeout,r=window.requestAnimationFrame||n,a=null,l=null,c=function(e,t){if(!e)return RUtils.console.log("IVE","No video sent, skipping."),!1;var i,n='<h2 id="ive__previewVideoH2" class="center">'.concat(e.title,"</h2>")+'<div id="ive__previewVideoContainer" class="flex $vpi" '+'data-vpi-videoid="'.concat(e.sourceId,'" ')+'data-vpi-videotype="'.concat(t.source,'" ')+'data-vpi-videothumb="'.concat(e.thumbnail,'">')+'<img id="ive__previewVideoThumb" class="" '+'src="'.concat(e.thumbnail,'"/>')+'<svg class="rsvg ive__videoEditPreviewIcon absolute"><use xlink:href="#rsvg__ui--play" href="#rsvg__ui--play"/></svg></div><div id="ive__previewVideoControls" class="width100 whiteBg center absolute"><span class="robotoC rnkrBlue pointer $ive" data-ive-click="node:videoEdit:previewDestroy">CANCEL</span><button id="ive__previewVideoControlsDone" class="button button--rounded button--blue button__default $ive" data-ive-click="node:videoEdit:previewComplete">LOOKS GOOD</button></div>';i=n,r(function(){o.innerHTML=i})},d=function(e,t){(o=document.createElement("div")).id="ive__previewVideo",o.className="width100 height100 absolute whiteBg center",o.innerHTML=RUtils.spinner.create("iveVideoPreviewCreate"),function(e){var t=document.getElementById("modal__videoEdit");r(function(){t.appendChild(e)})}(o),a=e,l=t,c(e,t)},i.videoPreview=function(e,t){return t.source?e.id?void d(e,t):(RUtils.console.warn("IVE","No video id passed, skipping."),!1):(RUtils.console.warn("IVE","No video source passed, skipping."),!1)},i.videoPreviewDestroy=function(){r(function(){o.remove()}),a=null,l=null},i.videoPreviewComplete=function(){var e=document.getElementById("ive__previewVideoControls");e&&(e.innerHTML=RUtils.spinner.create("iveVideoPreviewAdd")),"RANKER"===l.galleryType?i.nodeVideoUseRanker(a,l):i.nodeVideoAdd(a,l)},i)},255:function(e,t){var i,o,n,r,a,l,c,d,s,u,v,p,y,f,m,g,b,_,w,h;RView.IVE=(i=RView.IVE,o=window.setTimeout,n=window.clearTimeout,r=window.requestAnimationFrame||o,a=null,l={},c="",d="",s=1,u=0,v=null,p=null,y=null,f=function(e){var t=e.getAttribute("data-ive-options");return(t=t&&""!==t&&"undefined"!==t?t.parseQueryString():{}).editType=(t.editType||"EDIT").toUpperCase(),t.galleryType=(t.galleryType||"YOUTUBE").toUpperCase(),t.forcePage1=(t.forcePage1||"false").parseBoolean(),t},m=function(){r(function(){RUtils.spinner.destroy("ive__videoEditGalleryResults")})},g=function(e,t){r(function(){m(),a.insertAdjacentHTML("beforeend",e),"RANKER"!==t.galleryType&&v>s&&function(e){e.forcePage1=!1;var t="".concat('<button id="ive__videoEditGalleryLoadMore" class="block center pointer $ive"data-ive-click="node:videoEdit:gallerySearch"data-ive-options="').concat(e.parseObjectAsQueryString(),'"')+">load more</span>";r(function(){a.insertAdjacentHTML("beforeend",t)})}(t)})},b=function(e,t){for(var i,o="",n=0;i=e[n];n++)o+='<span class="ive__videoEditGalleryResult relative inlineBlock pointer $ive" title="'.concat(i.title.replace(/"/g,"&quot;"),'" ')+'data-ive-click="node:videoEdit:previewGallery" '+'data-ive-options="'.concat(t.parseObjectAsQueryString(),"&source=").concat(i.source,'">'),o+='<img src="'.concat(i.thumbnail,'" data-ive-id="').concat(i.id,'" data-ive-sourceid="').concat(i.sourceId,'" ')+'data-ive-url="'.concat(i.url,'" data-ive-title="').concat(i.title.replace(/"/g,"&quot;"),'">')+"</span>";g(o,t)},_=function(e,t){l[e.cacheId]=1===s?t:l[e.cacheId].concat(t)},w=function(e,t){for(var i,o=[],n=0;i=e[n];n++){var r={id:i.id.videoId,sourceId:i.id.videoId,url:"https://www.youtube.com/watch?v=".concat(i.id.videoId),thumbnail:i.snippet.thumbnails.high.url,title:i.snippet.title,source:"YOUTUBE"};o.push(r)}b(o,t)},h=function(e,t){for(var i,o=[],n=0;i=e[n];n++){var r;r="JW"===i.videoType?"//content.jwplatform.com/players/".concat(i.videoId,"-y2opM9Cx.html"):"https://www.youtube.com/watch?v=".concat(i.videoId);var a={id:i.videoId,sourceId:i.sourceId,url:r,thumbnail:i.thumbUrl,title:"",source:i.videoType};o.push(a)}b(o,t)},i.videoGallerySearch=function(e){r(function(){a.insertAdjacentHTML("beforeend",RUtils.spinner.create("ive__videoEditGalleryResults"))}),function(){if(a){var e=document.getElementById("ive__videoEditGalleryLoadMore");e&&r(function(){e.remove()})}}();var t=f(e);if(a&&a.isConnected||(a=document.getElementById("ive__videoEditGalleryResults")),"YOUTUBE"===t.galleryType){var i=document.getElementsByClassName("ive__videoEditGalleryTab--ranker")[0];i&&(i.classList.remove("ive__videoEditGalleryTab--selected"),document.getElementsByClassName("ive__videoEditGalleryTab--youtube")[0].classList.add("ive__videoEditGalleryTab--selected"))}var o=document.getElementById("ive__videoEditGallerySearchInput").value,n=o.encodeBase64(),y="".concat(t.galleryType,"__").concat(n),g={term:o,termBase64:n,cacheId:y};switch(null!==p&&(g.nextPageToken=p),n!==c?(a.innerHTML="",c=n,s=1):t.galleryType!==d||t.forcePage1?(a.innerHTML="",s=1):s++,d=t.galleryType,t.galleryType){case"YOUTUBE":1===s&&l[y]?w(l[y],t):function(e,t,i){p=null,RUtils.ajax({withCredentials:!1,url:"https://www.googleapis.com/youtube/v3/search?part=snippet&q=".concat(encodeURIComponent(i.term),"&maxResults=").concat(20,"&type=video&videoEmbeddable=true&key=AIzaSyDFbcdCq3_SizbPIE0x0YBriy3tMKkgwNQ").concat(i.nextPageToken?"&pageToken=".concat(i.nextPageToken):""),error:function(e){RUtils.console.error("IVE","Video search error",e)},callback:function(e){void 0!==e.items&&e.items.length?(_(i,e.items),w(e.items,t),p=e.nextPageToken,(v=Math.floor(e.pageInfo.totalResults/20))<1&&(v=1)):m()}})}(0,t,g);break;case"RANKER":1===s&&l[y]?h(l[y],t):function(e,t,i){u=20*(s-1),RUtils.ajax({withCredentials:!1,url:"".concat(RConstants.apiPath,"/nodes/").concat(t.nodeId,"/videos?limit=").concat(20,"&offset=").concat(u),error:function(e){RUtils.console.error("IVE","Video search error",e)},callback:function(e){void 0!==e&&e.length?(_(i,e),h(e,t),(v=20/u+1)<1&&(v=1)):m()}})}(0,t,g)}},i.videoGallerySearchByKey=function(e,t){n(y);var r=1500;13===t.which&&(r=10),y=o(function(){i.videoGallerySearch(e)},r)},i.videoGalleryTab=function(e){for(var t,o=f(e),n=document.getElementsByClassName("ive__videoEditGalleryTab"),r=0;t=n[r];r++)t.classList.remove("ive__videoEditGalleryTab--selected");document.getElementsByClassName("ive__videoEditGalleryTab--".concat(o.galleryType.toLowerCase()))[0].classList.add("ive__videoEditGalleryTab--selected"),i.videoGallerySearch(e)},i.videoPreviewFromGallery=function(e){var t=f(e),o=e.getElementsByTagName("img")[0],n=o.getAttribute("src");if(n&&""!==n.trim()){var r={id:o.getAttribute("data-ive-id"),sourceId:o.getAttribute("data-ive-sourceid"),thumbnail:n,url:o.getAttribute("data-ive-url"),title:o.getAttribute("data-ive-title")};i.videoPreview(r,t),RUtils.trackEvent({category:"list",action:"".concat(t.editType,"_nodeVideoPreviewFromGallery")})}},i)}});